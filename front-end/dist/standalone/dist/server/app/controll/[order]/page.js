(()=>{var e={};e.id=693,e.ids=[693],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},2065:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>_.a,__next_app__:()=>d,pages:()=>c,routeModule:()=>p,tree:()=>i});var s=t(260),o=t(8203),l=t(5155),_=t.n(l),n=t(7292),a={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(a[e]=()=>n[e]);t.d(r,a);let i=["",{children:["controll",{children:["[order]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,7080)),"/Users/leonidmiheev/Desktop/fcore-tracker/front-end/src/app/controll/[order]/page.js"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,6862)),"/Users/leonidmiheev/Desktop/fcore-tracker/front-end/src/app/layout.jsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,6868)),"/Users/leonidmiheev/Desktop/fcore-tracker/front-end/src/app/not-found.jsx"]}],c=["/Users/leonidmiheev/Desktop/fcore-tracker/front-end/src/app/controll/[order]/page.js"],d={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/controll/[order]/page",pathname:"/controll/[order]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},3183:(e,r,t)=>{Promise.resolve().then(t.bind(t,7838))},135:(e,r,t)=>{Promise.resolve().then(t.bind(t,9672))},9672:(e,r,t)=>{"use strict";t.d(r,{default:()=>R});var s=t(5512),o=t(9063),l=t(6008),_=t(2281),n=t(1737),a=t.n(n);let i=({orderSteps:e})=>(0,s.jsxs)("div",{className:(0,_.A)(a().other__controll,0===e.length?a().has__steps:""),children:[(0,s.jsx)(o.A,{buttonText:"Документы",buttonClass:"controll__button"}),(0,s.jsx)("div",{className:a().back__btn,children:(0,s.jsx)(l.default,{href:"/account",className:a().back,children:"В аккаунт"})}),0!==e.length?(0,s.jsx)(o.A,{buttonText:"Этапы оплаты",buttonClass:"controll__button"}):(0,s.jsx)(s.Fragment,{}),(0,s.jsx)(o.A,{buttonText:"Арбитраж",buttonClass:"controll__button"})]});var c=t(1648),d=t.n(c);let p=({orderName:e,orderDescription:r,orderSteps:t})=>(0,s.jsxs)("div",{className:d().controll__info,children:[(0,s.jsxs)("div",{className:d().text__info,children:[(0,s.jsx)("p",{className:d().order__name,children:e}),(0,s.jsx)("p",{className:d().order__description,children:r})]}),(0,s.jsx)("div",{className:d().other__controll,children:(0,s.jsx)(i,{orderSteps:t})})]});var m=t(5358),x=t(5504),h=t.n(x),u=t(5398),v=t.n(u);let j=({status:e})=>(0,s.jsx)("div",{className:(0,_.A)(v().status,"Не активирован "===e?v().wait:""),children:(0,s.jsx)("p",{className:v().status__text,children:e})}),f=({isOrderActivated:e,orderPrice:r,orderSteps:t})=>(0,s.jsxs)("div",{className:h().controll__dev,children:[(0,s.jsx)("section",{className:h().controll__time,children:(0,s.jsx)(m.A,{isOrderActivated:e})}),(0,s.jsx)("section",{className:h().controll__statuses,children:(0,s.jsxs)("div",{className:h().dev__info,children:[(0,s.jsx)(j,{status:e?"":"Не активирован "}),(0,s.jsx)("p",{className:h().order__price__stage,children:0!==t.length?"Оплата по этапам":"Постоплата"}),(0,s.jsxs)("p",{className:h().order__price,children:[r," ₽"]})]})})]});var N=t(141);t(9255);var g=t(3652),b=t.n(g);let k=({companionName:e,orderID:r})=>(0,s.jsxs)("div",{className:b().controll__chat,children:[(0,s.jsxs)("div",{className:b().chat__body,children:[(0,s.jsxs)("p",{className:b().chat__companion,children:["Чат: ",e]}),(0,s.jsx)("section",{className:b().chat__messages})]}),(0,s.jsx)(N.A,{})]});var A=t(5936),P=t.n(A),S=t(3737),C=t(4745),I=t.n(C);let D=({stage:e})=>(0,s.jsx)("div",{className:I().report__stage,children:1===e?(0,s.jsxs)("div",{className:I().stage,children:[(0,s.jsx)(S.A,{inputPlaceholder:"Введите название отчёта",inputClass:"report__input"}),(0,s.jsx)(S.A,{inputPlaceholder:"Введите описание отчёта",inputClass:"report__input"})]}):2===e?(0,s.jsx)(s.Fragment,{}):3===e?(0,s.jsx)(s.Fragment,{}):null}),w=()=>(0,s.jsxs)("div",{className:P().controll__report,children:[(0,s.jsx)("p",{className:P().report__title,children:"Создать отчёт"}),(0,s.jsxs)("div",{className:P().report__section,children:[(0,s.jsx)(D,{stage:1}),(0,s.jsx)(D,{stage:2}),(0,s.jsx)(D,{stage:3})]})]});var M=t(2273),q=t(8009),y=t(6050),O=t.n(y);let R=({orderID:e})=>{let{orders:r}=(0,M.d4)(e=>e.orders),t=r.find(r=>r.orderID===+e),[o,l]=(0,q.useState)({orderName:t.orderName,orderDescription:t.orderDescription,orderPrice:t.orderPrice,isOrderActivated:t.isOrderActivated,orderTrackCode:t.orderTrackCode,orderSteps:t.orderSteps});return(0,s.jsxs)("div",{className:O().controll__panel,children:[(0,s.jsx)("section",{className:O().controll__info,children:(0,s.jsx)(p,{orderName:o.orderName,orderDescription:o.orderDescription,orderSteps:o.orderSteps})}),(0,s.jsxs)("div",{className:O().controlls__wrap,children:[(0,s.jsx)("section",{className:O().controll__dev__info,children:(0,s.jsx)(f,{isOrderActivated:o.isOrderActivated,orderPrice:o.orderPrice,orderSteps:o.orderSteps})}),(0,s.jsx)("section",{className:O().controll__reports,children:o.isOrderActivated?(0,s.jsxs)("div",{className:O().order__noactive,children:[(0,s.jsx)("p",{className:O().noactive__title,children:"Заказ пока не активирован"}),(0,s.jsx)("p",{className:O().noactive__description,children:"Чтобы приступить к работе, сообщите заказчику код ниже"}),(0,s.jsx)("p",{className:O().noactive__trackcode,children:o.orderTrackCode})]}):(0,s.jsxs)("div",{className:O().controll__activated,children:[(0,s.jsx)(k,{orderID:e}),(0,s.jsx)(w,{})]})})]})]})}},5358:(e,r,t)=>{"use strict";t.d(r,{A:()=>p});var s=t(5512),o=t(2273),l=t(8009),_=t(2281),n=t(7698),a=t.n(n);let i=({timeNumber:e,deadline:r})=>(console.log(r),(0,s.jsx)("div",{className:a().cell,children:(0,s.jsx)("p",{className:(0,_.A)(a().time,r<5?a().more__faster:r<10?a().faster:r<30?a().less__faster:null),children:e})}));var c=t(4831),d=t.n(c);let p=({isOrderActivated:e})=>{let{orderStart:r,orderFinish:t}=(0,o.d4)(e=>e.tracker.orderInfo),[_,n]=(0,l.useState)(t-Math.floor(Date.now()/1e3)),a=((e,r)=>{let t=Math.floor(Date.now()/1e3),s=r-e;return s<=0?0:Math.max(0,Math.min((r-t)/s*100,100))})(r,t),c=(0,l.useMemo)(()=>{let e=Math.floor(_/86400),r=Math.floor(_%86400/3600),t=Math.floor(_%3600/60),s=_%60;return{days:String(e).padStart(2,"0"),hours:String(r).padStart(2,"0"),minutes:String(t).padStart(2,"0"),seconds:String(s).padStart(2,"0")}},[_]);return(0,s.jsxs)("div",{className:d().dev__time,children:[(0,s.jsx)("p",{className:d().time__title,children:"Времени осталось"}),(0,s.jsx)("section",{className:d().time,children:_<86400?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i,{timeNumber:parseInt(c.hours[0]),deadline:a}),(0,s.jsx)(i,{timeNumber:parseInt(c.hours[1]),deadline:a}),(0,s.jsx)("p",{className:d().del,children:":"}),(0,s.jsx)(i,{timeNumber:parseInt(c.minutes[0]),deadline:a}),(0,s.jsx)(i,{timeNumber:parseInt(c.minutes[1]),deadline:a}),(0,s.jsx)("p",{className:d().del,children:":"}),(0,s.jsx)(i,{timeNumber:parseInt(c.seconds[0]),deadline:a}),(0,s.jsx)(i,{timeNumber:parseInt(c.seconds[1]),deadline:a}),(0,s.jsx)("p",{className:d().time__left,children:"часов"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i,{timeNumber:parseInt(c.days[0]),deadline:a}),(0,s.jsx)(i,{timeNumber:parseInt(c.days[1]),deadline:a}),(0,s.jsx)("p",{className:d().del,children:":"}),(0,s.jsx)(i,{timeNumber:parseInt(c.hours[0]),deadline:a}),(0,s.jsx)(i,{timeNumber:parseInt(c.hours[1]),deadline:a}),(0,s.jsx)("p",{className:d().del,children:":"}),(0,s.jsx)(i,{timeNumber:parseInt(c.minutes[0]),deadline:a}),(0,s.jsx)(i,{timeNumber:parseInt(c.minutes[1]),deadline:a}),(0,s.jsx)("p",{className:d().time__left,children:"дней"})]})})]})}},3652:e=>{e.exports={controll__chat:"controll-chat_controll__chat__0ixoG"}},5504:e=>{e.exports={controll__dev:"controll-dev_controll__dev__9_qrz",controll__time:"controll-dev_controll__time__8Qhkk",controll__statuses:"controll-dev_controll__statuses__GSJfF",dev__info:"controll-dev_dev__info__LRwI1",order__price__stage:"controll-dev_order__price__stage__1jXZI",order__price:"controll-dev_order__price__8vkQr"}},5398:e=>{e.exports={status:"dev-status_status__HjcVA",status__text:"dev-status_status__text__dqNvS"}},1648:e=>{e.exports={controll__info:"controll-info_controll__info__YMX84",text__info:"controll-info_text__info__pSggC",order__name:"controll-info_order__name__nCqwt",order__description:"controll-info_order__description__q2DWY",other__controll:"controll-info_other__controll__zAvx3"}},1737:e=>{e.exports={other__controll:"other-controll_other__controll__vv41E",has__steps:"other-controll_has__steps__2RrW6",back__btn:"other-controll_back__btn__Tc1L_",back:"other-controll_back__TMmZq"}},5936:e=>{e.exports={controll__report:"controll-report_controll__report__tthmX",report__title:"controll-report_report__title__RAO87"}},4745:e=>{e.exports={report__stage:"report-stage_report__stage__PqymR",stage:"report-stage_stage__aM__m"}},6050:e=>{e.exports={controll__panel:"controll_controll__panel__g7_mQ",controll__info:"controll_controll__info__sSwQk",controlls__wrap:"controll_controlls__wrap__poBL3",controll__dev__info:"controll_controll__dev__info__i7pMK",controll__reports:"controll_controll__reports__gj5A3",order__noactive:"controll_order__noactive__agI6j",noactive__title:"controll_noactive__title__B5UGA",noactive__description:"controll_noactive__description__7OUhR",controll__activated:"controll_controll__activated__YYvXD"}},4831:e=>{e.exports={dev__time:"dev-time_dev__time__Vh5bS",time__title:"dev-time_time__title__l0YpK",time:"dev-time_time__P1O9S",del:"dev-time_del__vWvvR",time__left:"dev-time_time__left__PApP4"}},7698:e=>{e.exports={cell:"time-cell_cell__pK11U",time:"time-cell_time__CBg94",less__faster:"time-cell_less__faster__0WtxZ",faster:"time-cell_faster__03_bB",more__faster:"time-cell_more__faster__8jwCF"}},7080:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>l});var s=t(2740),o=t(7838);let l=async({params:e})=>{let r=(await e).order;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(o.default,{orderID:r})})}},7838:(e,r,t)=>{"use strict";t.d(r,{default:()=>s});let s=(0,t(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/leonidmiheev/Desktop/fcore-tracker/front-end/src/components/controll/Controll.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/leonidmiheev/Desktop/fcore-tracker/front-end/src/components/controll/Controll.jsx","default")}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[468,25],()=>t(2065));module.exports=s})();